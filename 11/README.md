## 并发编程(goroutine)

```
1. 什么是并发?
2. 为什么要使用并发编程?
3. 并发编程是怎么实现的?
4. 并发编程有什么风险?
5. 什么时候适合使用并发编程?
6. 操作系统怎么实现并发?
7. 什么是进程?
    运行(进行中)的程序
8. 什么是线程?
5. 操作系统线(3种程实现模型)
    1. 用户级线程模型
    2. 内核级线程模型
    3. 两级线程模型
```

## 1. 什么是并发?
> 多个任务同时执行从而使资源得到能充分的利用以便能够更快的得到结果.并发是一种思维方式,并不限定于特定的领域,对应编程来说也不限于特定的编程语言
```
在日常生活中,并发的例子也是比比皆是.
比如我们用烧水壶烧水的时候,我们可以去看看书或者做其他的事,
等到烧水壶响铃(通知我们)的时候证明水已经烧开了,这个时候我们就可以喝水了
```

## 2. 为什么要使用并发编程?
> 提高计算机硬件的利用率,同时减少任务完成的总时间.
```
1. 提高计算机硬件的利用率
    比如打印机打印的时候, 我们可以听音乐、逛论坛看贴吧等
    
2. 减少任务完成的总时间
    比如我们需要烧水喝水需要10分钟、看书也需要10分钟
    1. 我们先烧好水喝水10分钟,然后在去看书10分钟, 总共花掉20分钟
    2. 如果我们打开开关烧水然后就去看书, 水烧好了我们在回来喝水,这个时候我们可能11分钟就完了
    况且没有那个人会傻傻的在哪里等水烧开了,在去做其他事
    
3. 让程序便的简短清晰
    每个任务单独编写程序并发编程是怎么实现的比把所有任务编写混杂在一起,要简单的多.
```

## 3. 并发编程是怎么实现的?
> 启动多个程序交替执行(cpu不停的切换程序,执行程序)
> 并发编程实现方式一种是多进程并发, 一种是多线程并发.

## 4. 并发编程有什么风险?
> 并发编程相对于一般的串行编程来说存在很大的风险,如果把我们之前在单线程中运行的程序不加改造直接拿到多线程中区,
> 很有可能不会有正确的结果.导致结果不正确的原因就是并发编程中的风险,也是我们需要格外注意的地方
```sh
1. 安全性
    安全性的核心是正确性, 它要能保证并发编程不会出现不符合预期结果的情况.
    
2. 活跃性
    
3. 性能
    并发编程不是"空手套白狼",它也是有开销的.不论是多进程还是多线的并发,
    在它们切换的时候会执行上下文的切换,寄存器中变量的更新等操作,这都会消耗一定的资源和时间,
    所以并发编程一定要预估好并发编程节省的资源和时间是不是足以弥补线程间切换的开销.

4. 复杂性
    单线程中所有变量的值可以从本地线程对应的栈、寄存器和进程公共的堆拿到,执行时也是孤军奋战,所以不需要和别人打交道,
    而多线程之间一旦需要协同就要在线程之间传递信息,再加上前面所说的安全性、活跃性等要求,这一整套多线程的并发会大大提高程序的复杂性,
    这也是并发编程的难度所在.
```
> 1. 安全性
> 2. 活跃性
> 3. 性能

## 5. 什么时候适合使用并发编程?
> 并发编程最大的优势就是提高程序的运行速度和资源利用率.
> 如果串行程序在这两方面并不受到限制的话就没有必要使用并发编程.

```
1. 任务会堵塞线程导致之后的代码不能执行: 比如一边从文件读取, 一边进行大量计算
2. 任务执行时间过长,可以划分为分工明确的子任务: 比如下载大文件 
3. 任务本身需要协作执行: 比如生产者消费者问题

```
